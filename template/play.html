{% extends "base.html" %}
{% block title %}play demo{% endblock %}
{% block content %}
		<script>
		function player_play() { //	调用播放器开始播放函数
			document.getElementById("playerswf").spark_player_start();
		}
		
		function player_pause() { //	调用播放器暂停函数
			document.getElementById("playerswf").spark_player_pause();
		}
		function player_resume() { //	调用播放器恢复播放函数
			document.getElementById("playerswf").spark_player_resume();
		}
		function player_seek() { //	调用播放器拖动播放函数
			document.getElementById("playerswf").spark_player_seek(10);
		}
		function player_position() { //	调用播放器获取播放位置函数
			alert(document.getElementById("playerswf").spark_player_position() + "s");
		}
		function player_duration(){// 调用播放器获取片长函数
			alert(document.getElementById("playerswf").spark_player_duration() + "s");
		}
	</script>
	
	<h3 style="padding:20px;">
	<a href="#" onclick="player_play();">开始播放</a>
	&nbsp;&nbsp;
	<a href="#" onclick="player_pause();">暂停播放</a>
	&nbsp;&nbsp;
	<a href="#" onclick="player_resume();">恢复播放</a>
	&nbsp;&nbsp;
	<a href="#" onclick="player_seek();">拖动到10秒</a>
	&nbsp;&nbsp;
	<a href="#" onclick="player_duration();">获取片长</a>
	&nbsp;&nbsp;
	<a href="#" onclick="player_position();">获取当前播放位置</a>
	&nbsp;&nbsp;
	</h3>
	<div id="swfDiv">
	<embed type="application/x-shockwave-flash" 
	src="http://union.bokecc.com/flash/player.swf" width="800" height="450" 
	style="undefined" id="playerswf" name="playerswf" quality="high" allowfullscreen="true" 
	allowscriptaccess="always" wmode="transparent" 
	flashvars="userid={{user.userid}}&amp;videoid={{user.videoid}}&amp;mode=api&amp;autostart=false&amp;jscontrol=true">
	</div>
		<script type="text/javascript">
		var swfobj=new SWFObject('http://union.bokecc.com/flash/player.swf', 'playerswf', '800', '450', '8');
		swfobj.addVariable( "userid" , {{user.userid}});	//	partnerID,用户id
		swfobj.addVariable( "videoid" , {{user.videoid}});	//	spark_videoid,视频所拥有的 video id
		swfobj.addVariable( "mode" , "api");	//	mode, 注意：必须填写，否则无法播放
		swfobj.addVariable( "autostart" , "false");	//	开始自动播放，true/false
		swfobj.addVariable( "jscontrol" , "true");	//	开启js控制播放器，true/false
		
		swfobj.addParam('allowFullscreen','true');
		swfobj.addParam('allowScriptAccess','always');
		swfobj.addParam('wmode','transparent');
		swfobj.write('swfDiv');
	
	//	-------------------
	//	调用者：flash
	//	功能：播放器加载完毕时所调用函数
	//	时间：2010-12-22
	//	说明：用户可以加入相应逻辑
	//	-------------------
		function on_spark_player_ready() {
			//alert("播放器加载完毕");
		}
		
	//	-------------------
	//	调用者：flash
	//	功能：播放器开始播放时所调用函数
	//	时间：2010-12-22
	//	说明：用户可以加入相应逻辑
	//	-------------------
		function on_spark_player_start() {
			//alert('开始播放');
		}
		
	//	-------------------
	//	调用者：flash
	//	功能：播放器暂停时所调用函数
	//	时间：2010-12-22
	//	说明：用户可以加入相应逻辑
	//	-------------------
		function on_spark_player_pause() {
			//alert('暂停播放');
		}
		
	//	-------------------
	//	调用者：flash
	//	功能：播放器暂停后，继续播放时所调用函数
	//	时间：2010-12-22
	//	说明：用户可以加入相应逻辑
	//	-------------------
		function on_spark_player_resume() {
			//alert('暂停后继续播放');
		}
		
	//	-------------------
	//	调用者：flash
	//	功能：播放器播放停止时所调用函数
	//	时间：2010-12-22
	//	说明：用户可以加入相应逻辑
	//	-------------------
		function on_spark_player_stop() {
			//alert('播放停止');
		}
		</script>
{% endblock %}
